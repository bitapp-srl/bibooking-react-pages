(this["webpackJsonpbibooking-react"]=this["webpackJsonpbibooking-react"]||[]).push([[0],{38:function(e,n,t){e.exports=t(54)},43:function(e,n,t){},54:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(33),i=t.n(o),c=t(16),u=(t(43),t(4)),l=t(1),s=t.n(l),d=t(6),f=t(11),m=t(2),h=t(5);function b(){var e=Object(u.a)(["\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 22rem;\n  line-height: 22rem;\n"]);return b=function(){return e},e}function v(){var e=Object(u.a)(["\n  height: var(--header-height);\n  background-color: var(--main);\n  box-shadow: var(--shadow-2);\n  color: var(--white);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-weight: 300;\n  padding: 0 var(--lateral-padding);\n  position: sticky;\n  top: 0;\n"]);return v=function(){return e},e}var p=h.a.header(v()),g=Object(h.a)(c.b)(b());function w(){var e=Object(u.a)(["\n  border-bottom: 2rem solid var(--main);\n  outline: none;\n  background-color: var(--white);\n  padding: 0 3rem;\n  width: ",";\n  height: ",";\n"]);return w=function(){return e},e}function E(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: ",";\n  justify-content: ",";\n  align-items: ",";\n  width: ",";\n  height: ",";\n  padding: ",";\n"]);return E=function(){return e},e}var j=h.a.div(E(),(function(e){var n=e.flexDirection;return void 0===n?"row":n}),(function(e){var n=e.justifyContent;return void 0===n?"center":n}),(function(e){var n=e.alignItems;return void 0===n?"center":n}),(function(e){var n=e.width;return n||"auto"}),(function(e){var n=e.height;return n||"auto"}),(function(e){var n=e.padding;return n||"0"})),k=h.a.input(w(),(function(e){var n=e.width;return n||"auto"}),(function(e){var n=e.height;return n||"auto"})),O=t(12),y=t(22),x=t.n(y);t(49),t(51);x.a.initializeApp({apiKey:"AIzaSyC4vRrAFqZm8r1plYtPLYJZm2IY2AR9d9w",authDomain:"bibooking.firebaseapp.com",databaseURL:"https://bibooking.firebaseio.com",projectId:"bibooking",storageBucket:"bibooking.appspot.com",messagingSenderId:"48933584913",appId:"1:48933584913:web:bfbd2076ad4118821a31b0"});var S=function(){var e=Object(d.a)(s.a.mark((function e(n,t){var r,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return r=C.doc("users/".concat(n.uid)),e.next=5,r.get();case 5:if(e.sent.exists){e.next=16;break}return a=n.email,o=n.displayName,e.prev=8,e.next=11,r.set(Object(O.a)({displayName:o,email:a},t));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.error("Error creating user document",e.t0);case 16:return e.abrupt("return",A(n.uid));case 17:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(n,t){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(s.a.mark((function e(n){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,C.doc("users/".concat(n)).get();case 5:return t=e.sent,e.abrupt("return",Object(O.a)({uid:n},t.data()));case 9:e.prev=9,e.t0=e.catch(2),console.error("Error fetching user",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n){return e.apply(this,arguments)}}(),z=x.a.auth(),C=x.a.firestore(),I=Object(r.memo)((function(){return a.a.createElement(p,null,a.a.createElement(g,{to:"/"},a.a.createElement("h1",null,"BiBooking")),a.a.createElement(j,null,a.a.createElement(j,null,a.a.createElement("button",{onClick:function(){return z.signOut()}},"Sign out"))))}));var W=function(){return a.a.createElement("div",null,a.a.createElement(I,null),"Calendar")},L=t(37);function B(){var e=Object(u.a)(["\n  border-radius: 30rem;\n  background-color: var(--main);\n  height: 48rem;\n  margin-top: 30rem;\n  width: 100%;\n  color: var(--white);\n"]);return B=function(){return e},e}function R(){var e=Object(u.a)(["\n  color: var(--error);\n  font-size: 12rem;\n"]);return R=function(){return e},e}function P(){var e=Object(u.a)(["\n  border: 2rem solid var(--border-gray);\n  height: 38rem;\n  width: 100%;\n  border-radius: 7rem;\n  padding-left: 15rem;\n  margin-top: 20rem;\n  font-size: 15rem;\n  :hover, :focus {\n    border-color: var(--main-light);\n    transition: border-color 0.5s ease;\n  }\n  ","\n"]);return P=function(){return e},e}function U(){var e=Object(u.a)(["\n  background-color: var(--white);\n  width: 28vw;\n  box-shadow: var(--shadow-1);\n  border-radius: 10rem;\n  flex-direction: column;\n  padding: 20rem 28rem;\n  h1 { font-size: 25rem; font-weight: 300; margin-bottom: 20rem; }\n  & > form {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n  }\n"]);return U=function(){return e},e}function N(){var e=Object(u.a)(["\n  width: 100vw;\n  height: 100vh;\n  background-color: var(--main);\n"]);return N=function(){return e},e}var D=Object(h.a)(j)(N()),J=Object(h.a)(j)(U()),Y=Object(h.a)(k)(P(),(function(e){return e.error&&"\n    border-color: var(--error);\n    :hover, :focus {\n      border-color: var(--error);\n    }\n  "})),q=h.a.span(R()),F=h.a.button(B()),M={required:!0};var T=function(){var e=Object(L.a)(),n=e.register,t=e.handleSubmit,r=e.errors;return a.a.createElement(a.a.Fragment,null,a.a.createElement(D,null,a.a.createElement(J,null,a.a.createElement(j,{flexDirection:"column"},a.a.createElement("h1",null,"BiBooking")),a.a.createElement("form",{onSubmit:t((function(e){var n=e.email,t=e.password;z.signInWithEmailAndPassword(n,t).catch((function(e){return console.log("Error Signing in with email and password")}))}))},a.a.createElement(Y,{name:"email",ref:n(M),placeholder:"Email",error:r.email}),r.email&&a.a.createElement(q,null,"Inserisci un indirizzo email valido"),a.a.createElement(Y,{name:"password",ref:n(M),placeholder:"Password",error:r.password}),r.password&&a.a.createElement(q,null,"La password non pu\xf2 essere vuota"),a.a.createElement(F,{type:"submit"},"Log in")))))},Z={loading:!1,user:null},K=Object(r.createContext)({state:Z,dispatch:function(){return null}}),$=K.Provider,G=function(e,n){switch(n.type){case"toggleLoading":return Object(O.a)(Object(O.a)({},e),{},{loading:!e.loading});case"setUser":return Object(O.a)(Object(O.a)({},e),{},{user:n.data});default:return e}};function H(){var e=Object(u.a)(["\n  position: absolute;\n  top: 0;\n  height: 100vh;\n  width: 100vw;\n  background-color: black;\n  opacity: 0.8;\n  z-index: 100;\n  color: var(--white);\n  /* svg { animation: fa-spin 1s infinite linear; } */\n"]);return H=function(){return e},e}var Q=Object(h.a)((function(e){return a.a.createElement(j,e,"Loading...")}))(H()),V=function(){return a.a.createElement(m.c,null,a.a.createElement(m.a,{path:"/"},a.a.createElement(W,null)))},X=function(){return a.a.createElement(m.c,null,a.a.createElement(m.a,{path:"/"},a.a.createElement(T,null)))},_=function(){var e=Object(r.useReducer)(G,Z),n=Object(f.a)(e,2),t=n[0],o=n[1],i=t.user,c=t.loading,u=Object(r.useMemo)((function(){return{state:t,dispatch:o}}),[t,o]);return Object(r.useEffect)((function(){z.onAuthStateChanged(function(){var e=Object(d.a)(s.a.mark((function e(n){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(n);case 2:t=e.sent,o({type:"setUser",data:t});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}),[]),i?a.a.createElement($,{value:u},c&&a.a.createElement(Q,null),a.a.createElement(V,null)):a.a.createElement(X,null)},ee=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ne(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(c.a,null,a.a.createElement(_,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/bibooking-react-pages",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/bibooking-react-pages","/service-worker.js");ee?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ne(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ne(n,e)}))}}()}},[[38,1,2]]]);
//# sourceMappingURL=main.86d6c500.chunk.js.map
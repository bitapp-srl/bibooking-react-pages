(this["webpackJsonpbibooking-react"]=this["webpackJsonpbibooking-react"]||[]).push([[0],{53:function(e,n,t){e.exports=t(72)},58:function(e,n,t){},72:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(28),i=t.n(o),c=t(24),l=(t(58),t(59),t(60),t(61),t(4)),u=t(2),s=t.n(u),d=t(9),f=t(15),m=t(7),v=t(5),g=t(13),p=t(3),b=t(8),h=function(e){return new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().slice(0,10)},O=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date;return"".concat(t,"-").concat(n,"-").concat(e)===h(r)},w=t(21);function y(){var e=Object(l.a)(["\n  border-radius: 3rem;\n  border: 0;\n  box-shadow: var(--shadow-2);\n  padding: 5rem 0;\n  [data-reach-menu-item] {\n    padding: 10rem 30rem;\n    transition: all 0.3s ease;\n    :hover {\n      background: var(--main);\n      color: var(--white);\n    }\n  }\n"]);return y=function(){return e},e}function j(){var e=Object(l.a)(["\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 22rem;\n  line-height: 22rem;\n"]);return j=function(){return e},e}function E(){var e=Object(l.a)(["\n  height: var(--header-height);\n  background-color: var(--main);\n  box-shadow: var(--shadow-2);\n  color: var(--white);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-weight: 300;\n  padding: 0 var(--lateral-padding);\n  position: sticky;\n  top: 0;\n  & > button:last-child > svg {\n    height: calc(var(--header-height) * 0.7);\n  }\n"]);return E=function(){return e},e}var k=v.a.header(E()),x=Object(v.a)(c.b)(j()),R=Object(v.a)(w.d)(y()),S=t(30),z=t.n(S);t(67),t(69);z.a.initializeApp({apiKey:"AIzaSyC4vRrAFqZm8r1plYtPLYJZm2IY2AR9d9w",authDomain:"bibooking.firebaseapp.com",databaseURL:"https://bibooking.firebaseio.com",projectId:"bibooking",storageBucket:"bibooking.appspot.com",messagingSenderId:"48933584913",appId:"1:48933584913:web:bfbd2076ad4118821a31b0"});var C=function(){var e=Object(d.a)(s.a.mark((function e(n,t){var r,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return r=D.doc("users/".concat(n.uid)),e.next=5,r.get();case 5:if(e.sent.exists){e.next=16;break}return a=n.email,o=n.displayName,e.prev=8,e.next=11,r.set(Object(p.a)({displayName:o,email:a},t));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.error("Error creating user document",e.t0);case 16:return e.abrupt("return",P(n.uid));case 17:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(n,t){return e.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(s.a.mark((function e(n){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,D.doc("users/".concat(n)).get();case 5:return t=e.sent,e.abrupt("return",Object(p.a)({uid:n},t.data()));case 9:e.prev=9,e.t0=e.catch(2),console.error("Error fetching user",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n){return e.apply(this,arguments)}}(),W=z.a.auth(),D=z.a.firestore();function A(){return(A=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function T(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var L=a.a.createElement("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"}),I=function(e){var n=e.svgRef,t=e.title,r=T(e,["svgRef","title"]);return a.a.createElement("svg",A({className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",ref:n},r),t?a.a.createElement("title",null,t):null,L)},N=a.a.forwardRef((function(e,n){return a.a.createElement(I,A({svgRef:n},e))}));t.p;function M(){return(M=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function _(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var B=a.a.createElement("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"}),Z=function(e){var n=e.svgRef,t=e.title,r=_(e,["svgRef","title"]);return a.a.createElement("svg",M({className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",ref:n},r),t?a.a.createElement("title",null,t):null,B)},F=a.a.forwardRef((function(e,n){return a.a.createElement(Z,M({svgRef:n},e))}));t.p;function G(){return(G=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function J(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var U=a.a.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"}),q=function(e){var n=e.svgRef,t=e.title,r=J(e,["svgRef","title"]);return a.a.createElement("svg",G({className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",ref:n},r),t?a.a.createElement("title",null,t):null,U)},Y=a.a.forwardRef((function(e,n){return a.a.createElement(q,G({svgRef:n},e))}));t.p;function K(){return(K=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function V(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var X=a.a.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}),H=function(e){var n=e.svgRef,t=e.title,r=V(e,["svgRef","title"]);return a.a.createElement("svg",K({className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",ref:n},r),t?a.a.createElement("title",null,t):null,X)},$=a.a.forwardRef((function(e,n){return a.a.createElement(H,K({svgRef:n},e))})),Q=(t.p,N),ee=F,ne=Y,te=$,re=Object(r.memo)((function(e){var n=e.children;return a.a.createElement(k,null,a.a.createElement(x,{to:"/"},a.a.createElement("h1",null,"BiBooking")),n,a.a.createElement(w.a,null,a.a.createElement(w.b,null,a.a.createElement(ne,null)),a.a.createElement(R,null,a.a.createElement(w.c,{onSelect:function(){return W.signOut()}},"Esci"))))})),ae={resource:void 0,slots:new Map,isOpen:!1,selectedSlot:void 0,selectedWeek:0},oe=function(e,n){var t=n.type,r=n.value,a=n.data,o=e.resource,i=e.slots,c=e.selectedWeek;switch(t){case"loadResource":return Object(p.a)(Object(p.a)({},e),{},{resource:a});case"loadSlots":return Object(p.a)(Object(p.a)({},e),{},{slots:a});case"open":return Object(p.a)(Object(p.a)({},e),{},{isOpen:!0,selectedSlot:r});case"close":return Object(p.a)(Object(p.a)({},ae),{},{resource:o,slots:i,selectedWeek:c});case"previousWeek":return Object(p.a)(Object(p.a)({},e),{},{selectedWeek:c-1});case"nextWeek":return Object(p.a)(Object(p.a)({},e),{},{selectedWeek:c+1});case"today":return Object(p.a)(Object(p.a)({},e),{},{selectedWeek:0});default:return e}},ie=t(47);function ce(){var e=Object(l.a)(["\n  padding: 8rem 10rem;\n  background-color: var(--text);\n  color: var(--white);\n  border: 0;\n  border-radius: 5rem;\n"]);return ce=function(){return e},e}function le(){var e=Object(l.a)(["\n  border-bottom: 2rem solid var(--main);\n  outline: none;\n  background-color: var(--white);\n  padding: 0 3rem;\n  width: ",";\n  height: ",";\n"]);return le=function(){return e},e}function ue(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: ",";\n  justify-content: ",";\n  align-items: ",";\n  width: ",";\n  height: ",";\n  padding: ",";\n"]);return ue=function(){return e},e}var se=v.a.div(ue(),(function(e){var n=e.flexDirection;return void 0===n?"row":n}),(function(e){var n=e.justifyContent;return void 0===n?"center":n}),(function(e){var n=e.alignItems;return void 0===n?"center":n}),(function(e){var n=e.width;return n||"auto"}),(function(e){var n=e.height;return n||"auto"}),(function(e){var n=e.padding;return n||"0"})),de=v.a.input(le(),(function(e){var n=e.width;return n||"auto"}),(function(e){var n=e.height;return n||"auto"})),fe=Object(v.a)(ie.a)(ce()),me=t(49),ve=t(46);function ge(){var e=Object(l.a)(["\n  height: 80vh;\n  width: 70vw;\n  box-shadow: var(--shadow-2);\n  border-radius: 7rem;\n  padding: 20rem;\n  position: relative;\n  & > svg {\n    width: 20rem;\n    position: absolute;\n    top: 20rem;\n    right: 20rem;\n    cursor: pointer;\n  }\n"]);return ge=function(){return e},e}function pe(){var e=Object(l.a)(["\n  border-right: 1rem solid var(--border-gray);\n  width: 100%;\n  position: relative;\n  span {\n    position: absolute;\n    top: calc(0rem - var(--hour-size) / 2);\n    right: 10rem;\n    font-size: var(--hour-size);\n  }\n"]);return pe=function(){return e},e}function be(){var e=Object(l.a)(["\n  :not(:nth-of-type(8n)) { border-right: 1rem solid var(--border-gray); }\n  border-top: 1rem solid var(--border-gray);\n  width: 100%;\n  height: 30rem;\n  ","\n"]);return be=function(){return e},e}function he(){var e=Object(l.a)(["\n  flex-direction: column;\n  height: var(--day-header-height);\n  font-size: 18rem;\n  user-select: none;\n  span:last-child { font-size: 13rem; font-weight: 300; }\n\n  ","\n"]);return he=function(){return e},e}function Oe(){var e=Object(l.a)(["\n  --day-header-height: 60rem;\n  --rows: ",";\n  --hour-size: 10rem;\n  display: grid;\n  grid-template-columns: 70rem repeat(7, 1fr);\n  grid-template-rows: repeat(var(--rows), 1fr);\n  overflow-y: auto;\n  height: calc(100vh - var(--header-height) - var(--day-header-height));\n  padding: calc(var(--hour-size) / 4) 0;\n"]);return Oe=function(){return e},e}function we(){var e=Object(l.a)(["\n  --day-header-height: 60rem;\n  display: grid;\n  grid-template-columns: 70rem repeat(7, 1fr);\n  grid-template-rows: 1fr;\n"]);return we=function(){return e},e}function ye(){var e=Object(l.a)(["\n  & > div {\n    cursor: pointer;\n    border-radius: 50%;\n    height: calc(var(--header-height) * 0.7);\n    width: calc(var(--header-height) * 0.7);\n    :hover { background-color: var(--main-light); color: var(--main-dark) }\n    svg {\n      height: 30rem;\n    }\n  }\n  & > button {\n    border: 1rem solid var(--white);\n    border-radius: 6rem;\n    padding: 10rem 20rem;\n    margin-right: 25rem;\n    user-select: none;\n    outline: none;\n    transition: all 0.3s ease;\n    :hover { background-color: var(--white); color: var(--main); }\n  }\n"]);return ye=function(){return e},e}var je=Object(v.a)(se)(ye()),Ee=v.a.div(we()),ke=v.a.div(Oe(),(function(e){return e.rows})),xe=Object(v.a)(se)(he(),(function(e){return e.today&&"\n    border-radius: 50rem;\n    background-color: var(--main);\n    height: calc(var(--day-header-height) - 13rem);\n    margin: auto 20rem;\n    color: var(--white);\n  "})),Re=Object(v.a)(se)(be(),(function(e){var n=e.percentage;return n?"\n      cursor: pointer;\n      :hover { box-shadow: var(--shadow-1); }\n      --fillColor: ".concat(n<50?"var(--success-light)":n<80?"var(--warning-light)":"var(--error-light)",";\n      background: linear-gradient(to right, var(--fillColor) ").concat(n,"%, var(--white) ").concat(n,"%);\n    "):"background-color: var(--background-gray);"})),Se=Object(v.a)(se)(pe()),ze=Object(v.a)(ve.a)(ge());function Ce(e){var n=e.slot,t=Object(me.a)(e,["slot"]);return console.log(n),a.a.createElement(ze,Object.assign({},t,{"aria-label":"Booking Detail"}),n.starts_at.datetime,a.a.createElement("br",null),n.ends_at.datetime,a.a.createElement("br",null),n.bookings,a.a.createElement("br",null),a.a.createElement(te,{onClick:t.onDismiss}))}var Pe="https://api.qb.bitapp.dev/admin/teams/".concat("2","/resources/");function We(e,n){return De.apply(this,arguments)}function De(){return(De=Object(d.a)(s.a.mark((function e(n,t){var r,a,o,i,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:"GET",a={method:r,headers:{"Content-Type":"application/json","X-Client-Key":"1aJrPT5G3xqHvT0DDrarPez7yJ5S7yF5VFCZngOR8NnoEjYtyCRNGq7yAxPGr4D6","X-Client-Secret":"client-secret"},body:JSON.stringify(t)},e.next=4,fetch("".concat(Pe).concat(n),a);case 4:return o=e.sent,e.next=7,o.json();case 7:if(i=e.sent,200===o.status){e.next=10;break}return e.abrupt("return",new Error(i.message));case 10:return e.abrupt("return",i.data);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ae=function(e){return We(e)},Te=["Luned\xec","Marted\xec","Mercoled\xec","Gioved\xec","Venerd\xec","Sabato","Domenica"],Le={"01":"Gennaio","02":"Febbraio","03":"Marzo","04":"Aprile","05":"Maggio","06":"Giugno","07":"Luglio","08":"Agosto","09":"Settembre",10:"Ottobre",11:"Novembre",12:"Dicembre"},Ie=[{id:0,starts_at:{datetime:"2020-10-26T15:30:00.000Z",timezone:"string"},ends_at:{datetime:"2020-10-26T16:00:00.000Z",timezone:"string"},capacity:17,bookings:15,promotion:{id:0,name:"string",code:"string",image:"string",description:"string"}},{id:1,starts_at:{datetime:"2020-10-26T16:00:00.000Z",timezone:"string"},ends_at:{datetime:"2020-10-26T16:30:00.000Z",timezone:"string"},capacity:17,bookings:3,promotion:{id:1,name:"string",code:"string",image:"string",description:"string"}},{id:2,starts_at:{datetime:"2020-10-28T13:00:00.000Z",timezone:"string"},ends_at:{datetime:"2020-10-28T13:30:00.000Z",timezone:"string"},capacity:17,bookings:10,promotion:{id:1,name:"string",code:"string",image:"string",description:"string"}}];var Ne=function(e){var n=e.handlePreviousWeek,t=e.handleNextWeek,r=e.handleToday;return a.a.createElement(je,null,a.a.createElement("button",{onClick:r},"Oggi"),a.a.createElement(fe,{label:"Settimana precedente"},a.a.createElement(se,{onClick:n},a.a.createElement(Q,null))),a.a.createElement(fe,{label:"Prossima settimana"},a.a.createElement(se,{onClick:t},a.a.createElement(ee,null))))},Me=function(e){var n=e.day,t=e.month,r=e.date,o=e.year;return a.a.createElement(xe,{today:O(r,t,o)},a.a.createElement("span",null,n),a.a.createElement("span",null,Le[t]," ",r))},_e=Object(r.memo)((function(e){var n=e.onClick,t=e.slot;return t?a.a.createElement(Re,{onClick:function(){return n(t)},percentage:Number(t.bookings/t.capacity*100).toFixed(2)},t.bookings," prenotazioni"):a.a.createElement(Re,null)})),Be=function(){var e=Object(r.useReducer)(oe,ae),n=Object(f.a)(e,2),t=n[0],o=n[1],i=t.slots,c=t.selectedWeek,l=t.isOpen,u=t.selectedSlot,m=Object(r.useMemo)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.setDate(e.getDate()+7*c),[1,2,3,4,5,6,7].map((function(n){return h(new Date(e.setDate(e.getDate()-e.getDay()+n)))}))}),[c]),v=Object(r.useCallback)((function(e){return o({type:"open",value:e})}),[]),O=Object(r.useCallback)(Object(d.a)(s.a.mark((function e(){var n,t,r,a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae("");case 3:if(!((n=e.sent)instanceof Error)){e.next=6;break}return e.abrupt("return");case 6:o({type:"loadResource",data:n[0]}),t=n[0].slot_duration,6,24,r=function(e,n){return t=new Date(0,0,0,e,n,0,0),new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString().slice(11,16);var t},a=Object(b.a)(Array(1080/t)).map((function(e,n){return n*t})).reduce((function(e,n){return e.set(r(6,n),{})}),new Map),(i=Ie)instanceof Error||(i.forEach((function(e){var n=e.starts_at.datetime.slice(0,10),t=e.starts_at.datetime.slice(11,16);a.set(t,Object(p.a)(Object(p.a)({},a.get(t)),{},Object(g.a)({},n,e)))})),o({type:"loadSlots",data:a})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])}))),[]);return Object(r.useEffect)((function(){O()}),[O]),a.a.createElement(a.a.Fragment,null,a.a.createElement(re,null,a.a.createElement(Ne,{handlePreviousWeek:function(){return o({type:"previousWeek"})},handleNextWeek:function(){return o({type:"nextWeek"})},handleToday:function(){return o({type:"today"})}})),a.a.createElement(Ee,null,a.a.createElement("span",null),Te.map((function(e,n){return a.a.createElement(Me,{key:"day_header_".concat(e),day:e,month:m[n].slice(5,7),date:m[n].slice(8,10),year:m[n].slice(0,4)})}))),a.a.createElement(ke,{rows:i.size},Array.from(i).map((function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Se,null,a.a.createElement("span",null,e[0])),m.map((function(n){return a.a.createElement(_e,{onClick:v,slot:e[1][n]})})))}))),u&&a.a.createElement(Ce,{isOpen:l,onDismiss:function(){return o({type:"close"})},slot:u}))},Ze=t(48);function Fe(){var e=Object(l.a)(["\n  border-radius: 30rem;\n  background-color: var(--main);\n  height: 48rem;\n  margin-top: 30rem;\n  width: 100%;\n  color: var(--white);\n"]);return Fe=function(){return e},e}function Ge(){var e=Object(l.a)(["\n  color: var(--error);\n  font-size: 12rem;\n"]);return Ge=function(){return e},e}function Je(){var e=Object(l.a)(["\n  border: 2rem solid var(--border-gray);\n  height: 38rem;\n  width: 100%;\n  border-radius: 7rem;\n  padding-left: 15rem;\n  margin-top: 20rem;\n  font-size: 15rem;\n  :hover, :focus {\n    border-color: var(--main-light);\n    transition: border-color 0.5s ease;\n  }\n  ","\n"]);return Je=function(){return e},e}function Ue(){var e=Object(l.a)(["\n  background-color: var(--white);\n  width: 28vw;\n  box-shadow: var(--shadow-1);\n  border-radius: 10rem;\n  flex-direction: column;\n  padding: 20rem 28rem;\n  h1 { font-size: 25rem; font-weight: 300; margin-bottom: 20rem; }\n  & > form {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n  }\n"]);return Ue=function(){return e},e}function qe(){var e=Object(l.a)(["\n  width: 100vw;\n  height: 100vh;\n  background-color: var(--main);\n"]);return qe=function(){return e},e}var Ye=Object(v.a)(se)(qe()),Ke=Object(v.a)(se)(Ue()),Ve=Object(v.a)(de)(Je(),(function(e){return e.error&&"\n    border-color: var(--error);\n    :hover, :focus {\n      border-color: var(--error);\n    }\n  "})),Xe=v.a.span(Ge()),He=v.a.button(Fe()),$e={required:!0};var Qe=function(){var e=Object(Ze.a)(),n=e.register,t=e.handleSubmit,r=e.errors;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ye,null,a.a.createElement(Ke,null,a.a.createElement(se,{flexDirection:"column"},a.a.createElement("h1",null,"BiBooking")),a.a.createElement("form",{onSubmit:t((function(e){var n=e.email,t=e.password;W.signInWithEmailAndPassword(n,t).catch((function(e){return console.log("Error Signing in with email and password")}))}))},a.a.createElement(Ve,{name:"email",ref:n($e),placeholder:"Email",error:r.email}),r.email&&a.a.createElement(Xe,null,"Inserisci un indirizzo email valido"),a.a.createElement(Ve,{name:"password",ref:n($e),placeholder:"Password",error:r.password}),r.password&&a.a.createElement(Xe,null,"La password non pu\xf2 essere vuota"),a.a.createElement(He,{type:"submit"},"Log in")))))},en={loading:!1,user:null},nn=Object(r.createContext)({state:en,dispatch:function(){return null}}),tn=nn.Provider,rn=function(e,n){switch(n.type){case"toggleLoading":return Object(p.a)(Object(p.a)({},e),{},{loading:!e.loading});case"setUser":return Object(p.a)(Object(p.a)({},e),{},{user:n.data});default:return e}};function an(){var e=Object(l.a)(["\n  position: absolute;\n  top: 0;\n  height: 100vh;\n  width: 100vw;\n  background-color: black;\n  opacity: 0.8;\n  z-index: 100;\n  color: var(--white);\n  /* svg { animation: fa-spin 1s infinite linear; } */\n"]);return an=function(){return e},e}var on=Object(v.a)((function(e){return a.a.createElement(se,e,"Loading...")}))(an()),cn=function(){return a.a.createElement(m.c,null,a.a.createElement(m.a,{path:"/"},a.a.createElement(Be,null)))},ln=function(){return a.a.createElement(m.c,null,a.a.createElement(m.a,{path:"/"},a.a.createElement(Qe,null)))},un=function(){var e=Object(r.useReducer)(rn,en),n=Object(f.a)(e,2),t=n[0],o=n[1],i=t.user,c=t.loading,l=Object(r.useMemo)((function(){return{state:t,dispatch:o}}),[t,o]);return Object(r.useEffect)((function(){W.onAuthStateChanged(function(){var e=Object(d.a)(s.a.mark((function e(n){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(n);case 2:t=e.sent,o({type:"setUser",data:t});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}),[]),i?a.a.createElement(tn,{value:l},c&&a.a.createElement(on,null),a.a.createElement(cn,null)):a.a.createElement(ln,null)},sn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function dn(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(c.a,null,a.a.createElement(un,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/bibooking-react-pages",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/bibooking-react-pages","/service-worker.js");sn?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):dn(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):dn(n,e)}))}}()}},[[53,1,2]]]);
//# sourceMappingURL=main.a8d87bbc.chunk.js.map
{"version":3,"sources":["utility/functions.ts","components/Header/styles.tsx","firebase.js","utility/Icons/ChevronLeft.svg","utility/Icons/ChevronRight.svg","utility/Icons/User.svg","utility/Icons/index.ts","components/Header/index.tsx","components/Calendar/reducer.ts","components/Lib.tsx","components/Calendar/styles.tsx","components/Calendar/index.tsx","components/Login/styles.tsx","components/Login/index.tsx","context.ts","App.tsx","serviceWorker.ts","index.tsx"],"names":["formatDate","date","Date","getTime","getTimezoneOffset","toISOString","slice","compareDates","day","month","year","HeaderStyled","styled","header","Logo","Link","MenuListStyled","MenuList","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","generateUserDocument","user","additionalData","a","userRef","firestore","doc","uid","get","exists","email","displayName","set","console","error","getUserDocument","userDocument","data","auth","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","fillRule","d","clipRule","_ref","svgRef","title","props","className","fill","viewBox","ref","ForwardRef","forwardRef","ChevronLeft","ChevronLeftSVG","ChevronRight","ChevronRightSVG","User","UserSVG","Header","memo","children","to","onSelect","signOut","initialState","slots","isOpen","selectedSlot","undefined","selectedWeek","reducer","state","action","type","value","Flex","div","flexDirection","justifyContent","alignItems","width","height","padding","Input","input","Tooltip","ReachTooltip","WeekSelectorStyled","CalendarGrid","DayHeaderStyled","today","DayStyled","CellStyled","DAYS","MONTHS","mockData","id","starts_at","datetime","timezone","ends_at","capacity","bookings","promotion","name","code","image","description","WeekSelector","handlePreviousWeek","handleNextWeek","handleToday","onClick","label","DayHeader","Day","rest","Array","map","_","slot","Cell","Calendar","useReducer","dispatch","week","useMemo","setDate","getDate","getDay","fetchSlots","useCallback","list","Error","forEach","push","useEffect","LoginBackground","LoginContainer","LoginInput","LoginError","span","LoginMainButton","button","formConfig","required","Login","useForm","register","handleSubmit","errors","onSubmit","password","signInWithEmailAndPassword","catch","log","placeholder","loading","GlobalContext","createContext","Provider","Overlay","LoggedRouter","path","NonLoggedRouter","App","contextValue","onAuthStateChanged","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","render","StrictMode","document","getElementById","URL","process","href","origin","addEventListener","fetch","headers","response","contentType","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.ed6e4081.chunk.js","sourcesContent":["export const formatDate = (date: Date) => (new Date(date.getTime() - (date.getTimezoneOffset() * 60000 ))).toISOString().slice(0, 10);\nexport const compareDates = (day: string, month: string, year: string, date = new Date()) => `${year}-${month}-${day}` === formatDate(date);","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { MenuList } from '@reach/menu-button';\n\nexport const HeaderStyled = styled.header`\n  height: var(--header-height);\n  background-color: var(--main);\n  box-shadow: var(--shadow-2);\n  color: var(--white);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-weight: 300;\n  padding: 0 var(--lateral-padding);\n  position: sticky;\n  top: 0;\n  & > button:last-child > svg {\n    height: calc(var(--header-height) * 0.7);\n  }\n`;\n\nexport const Logo = styled(Link)`\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 22rem;\n  line-height: 22rem;\n`;\n\nexport const MenuListStyled = styled(MenuList)`\n  border-radius: 3rem;\n  border: 0;\n  box-shadow: var(--shadow-2);\n  padding: 5rem 0;\n  [data-reach-menu-item] {\n    padding: 10rem 30rem;\n    transition: all 0.3s ease;\n    :hover {\n      background: var(--main);\n      color: var(--white);\n    }\n  }\n`","import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyC4vRrAFqZm8r1plYtPLYJZm2IY2AR9d9w\",\n  authDomain: \"bibooking.firebaseapp.com\",\n  databaseURL: \"https://bibooking.firebaseio.com\",\n  projectId: \"bibooking\",\n  storageBucket: \"bibooking.appspot.com\",\n  messagingSenderId: \"48933584913\",\n  appId: \"1:48933584913:web:bfbd2076ad4118821a31b0\"\n}\n\nfirebase.initializeApp(firebaseConfig);\n\nexport const generateUserDocument = async (user, additionalData) => {\n  if (!user) return;\n  const userRef = firestore.doc(`users/${user.uid}`);\n  const snapshot = await userRef.get();\n  if (!snapshot.exists) {\n    const { email, displayName } = user;\n    try {\n      await userRef.set({\n        displayName,\n        email,\n        ...additionalData\n      });\n    } catch (error) {\n      console.error(\"Error creating user document\", error);\n    }\n  }\n  return getUserDocument(user.uid);\n};\nconst getUserDocument = async uid => {\n  if (!uid) return null;\n  try {\n    const userDocument = await firestore.doc(`users/${uid}`).get();\n    return {\n      uid,\n      ...userDocument.data()\n    };\n  } catch (error) {\n    console.error(\"Error fetching user\", error);\n  }\n};\n\nexport const auth = firebase.auth();\nexport const firestore = firebase.firestore();","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z\",\n  clipRule: \"evenodd\"\n});\n\nvar SvgChevronLeft = function SvgChevronLeft(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"w-6 h-6\",\n    fill: \"currentColor\",\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgChevronLeft, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/ChevronLeft.f3a380db.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\",\n  clipRule: \"evenodd\"\n});\n\nvar SvgChevronRight = function SvgChevronRight(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"w-6 h-6\",\n    fill: \"currentColor\",\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgChevronRight, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/ChevronRight.0152ed08.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z\",\n  clipRule: \"evenodd\"\n});\n\nvar SvgUser = function SvgUser(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"w-6 h-6\",\n    fill: \"currentColor\",\n    viewBox: \"0 0 20 20\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgUser, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/User.18fb871e.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as ChevronLeftSVG } from './ChevronLeft.svg';\nimport { ReactComponent as ChevronRightSVG } from './ChevronRight.svg';\nimport { ReactComponent as UserSVG } from './User.svg';\n\nexport const ChevronLeft = ChevronLeftSVG;\nexport const ChevronRight = ChevronRightSVG;\nexport const User = UserSVG;","import React, { memo, ReactNode } from 'react';\nimport { HeaderStyled, Logo, MenuListStyled } from './styles';\nimport { Menu, MenuButton, MenuItem } from \"@reach/menu-button\";\nimport { auth } from '../../firebase';\nimport { User } from '../../utility/Icons';\n\nconst Header = memo(({ children }: { children?: ReactNode }) => (\n  <HeaderStyled>\n    <Logo to=\"/\">\n      <h1>BiBooking</h1>\n    </Logo>\n    {children}\n    <Menu>\n      <MenuButton>\n        <User />\n      </MenuButton>\n      <MenuListStyled>\n        <MenuItem onSelect={() => auth.signOut()}>Esci</MenuItem>\n      </MenuListStyled>\n    </Menu>\n  </HeaderStyled>\n));\n\nexport default Header;","import { TSlot } from '../../api/model/Slot';\n\nexport const initialState = {\n  slots: {},\n  isOpen: false,\n  selectedSlot: undefined,\n  selectedWeek: 0,\n};\n\nexport type TSlots = { [key: string]: TSlot[] };\n\ntype Action = {\n  type: 'loadSlots' | 'open' | 'close' | 'previousWeek' | 'nextWeek' | 'today',\n  value?: string | number | boolean,\n  data?: TSlots,\n};\n\ntype State = {\n  slots: TSlots,\n  isOpen: boolean,\n  selectedSlot?: string,\n  selectedWeek: number,\n};\n\nexport const reducer = (state: State, action: Action) : State => {\n  const { type, value, data } = action;\n  const { slots, selectedWeek } = state;\n  switch (type) {\n    case 'loadSlots': return { ...state, slots: data as TSlots };\n    case 'open': return { ...state, isOpen: true, selectedSlot: value as string };\n    case 'close': return { ...initialState, slots: slots, selectedWeek };\n    case 'previousWeek': return { ...state, selectedWeek: selectedWeek - 1 };\n    case 'nextWeek': return { ...state, selectedWeek: selectedWeek + 1 };\n    case 'today': return { ...state, selectedWeek: 0 };\n    default: return state;\n  }\n}","import styled from 'styled-components';\nimport { Tooltip as ReachTooltip } from \"@reach/tooltip\";\n\ntype TFlex = {\n  flexDirection?: 'row' | 'column',\n  justifyContent?: 'flex-start' | 'flex-end' | 'center' | 'space-between' | 'space-around',\n  alignItems?: 'flex-start' | 'flex-end' | 'center',\n  width?: string,\n  height?: string,\n  padding?: string,\n  [key: string]: any\n}\n\nexport const Flex = styled.div<TFlex>`\n  display: flex;\n  flex-direction: ${({ flexDirection = 'row' }) => flexDirection };\n  justify-content: ${({ justifyContent = 'center' }) => justifyContent };\n  align-items: ${({ alignItems = 'center' }) => alignItems };\n  width: ${({ width }) => width ? width : 'auto'};\n  height: ${({ height }) => height ? height : 'auto'};\n  padding: ${({ padding }) => padding ? padding : '0'};\n`;\n\nexport const Input = styled.input<{ width?: string, height?: string, [key: string]: any }>`\n  border-bottom: 2rem solid var(--main);\n  outline: none;\n  background-color: var(--white);\n  padding: 0 3rem;\n  width: ${({ width }) => width ? width : 'auto'};\n  height: ${({ height }) => height ? height : 'auto'};\n`;\n\nexport const Tooltip = styled(ReachTooltip)`\n  padding: 8rem 10rem;\n  background-color: var(--text);\n  color: var(--white);\n  border: 0;\n  border-radius: 5rem;\n`;","import styled from \"styled-components\";\nimport { Flex } from \"../Lib\";\n\nexport const WeekSelectorStyled = styled(Flex)`\n  & > div {\n    cursor: pointer;\n    border-radius: 50%;\n    height: calc(var(--header-height) * 0.7);\n    width: calc(var(--header-height) * 0.7);\n    :hover { background-color: var(--main-light); color: var(--main-dark) }\n    svg {\n      height: 30rem;\n    }\n  }\n  & > button {\n    border: 1rem solid var(--white);\n    border-radius: 6rem;\n    padding: 10rem 20rem;\n    margin-right: 25rem;\n    user-select: none;\n    outline: none;\n    transition: all 0.3s ease;\n    :hover { background-color: var(--white); color: var(--main); }\n  }\n`;\n\nexport const CalendarGrid = styled.div`\n  --day-header-height: 60rem;\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  grid-template-rows: 1fr;\n`;\n\nexport const DayHeaderStyled = styled(Flex)<{ today: boolean }>`\n  flex-direction: column;\n  height: var(--day-header-height);\n  font-size: 18rem;\n  user-select: none;\n  span:last-child { font-size: 13rem; font-weight: 300; }\n\n  ${({ today }) => today && `\n    border-radius: 50rem;\n    background-color: var(--main);\n    height: calc(var(--day-header-height) - 13rem);\n    margin: auto 20rem;\n    color: var(--white);\n  `}\n`;\n\nexport const DayStyled = styled(Flex)`\n  flex-direction: column;\n  justify-content: space-between;\n  height: calc(100vh - var(--header-height) - var(--day-header-height));\n  width: 100%;\n  :not(:last-child) { border-right: 1rem solid var(--border-gray); }\n`;\n\nexport const CellStyled = styled(Flex)`\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n  :hover, :focus {\n    box-shadow: var(--shadow-1);\n    border-radius: 5rem;\n    outline: none;\n  }\n`;","import React, { useMemo, useCallback, useEffect, useReducer } from 'react';\nimport { formatDate, compareDates } from '../../utility/functions';\nimport Header from '../Header';\nimport { reducer, initialState } from './reducer';\nimport { Flex, Tooltip } from '../Lib';\nimport { WeekSelectorStyled, DayHeaderStyled, CalendarGrid, DayStyled, CellStyled } from './styles';\nimport { ChevronLeft, ChevronRight } from '../../utility/Icons';\nimport { TSlot } from '../../api/model/Slot';\n\nconst DAYS = ['Lunedì', 'Martedì', 'Mercoledì', 'Giovedì', 'Venerdì', 'Sabato', 'Domenica'];\nconst MONTHS: { [key: string]: string } = {'01':'Gennaio','02':'Febbraio','03':'Marzo','04':'Aprile','05':'Maggio','06':'Giugno','07':'Luglio','08':'Agosto','09':'Settembre','10':'Ottobre','11':'Novembre','12':'Dicembre'};\n\nconst mockData = [\n  {\n    id: 0,\n    starts_at: {\n      datetime: '2020-10-22T15:30:00.000Z',\n      timezone: 'string'\n    },\n    ends_at: {\n      datetime: '2020-10-22T16:00:00.000Z',\n      timezone: 'string'\n    },\n    capacity: 0,\n    bookings: 25,\n    promotion: {\n      id: 0,\n      name: 'string',\n      code: 'string',\n      image: 'string',\n      description: 'string'\n    }\n  },\n  {\n    id: 1,\n    starts_at: {\n      datetime: '2020-10-22T16:00:00.000Z',\n      timezone: 'string'\n    },\n    ends_at: {\n      datetime: '2020-10-22T16:30:00.000Z',\n      timezone: 'string'\n    },\n    capacity: 0,\n    bookings: 5,\n    promotion: {\n      id: 1,\n      name: 'string',\n      code: 'string',\n      image: 'string',\n      description: 'string'\n    }\n  }\n];\n\nfunction Calendar () {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const { selectedWeek } = state;\n\n  const week = useMemo((day = new Date()) => {\n    day.setDate(day.getDate() + (7 * selectedWeek));\n    return [1,2,3,4,5,6,7].map(i => formatDate(new Date(day.setDate(day.getDate() - day.getDay() + i))));\n  }, [selectedWeek]);\n\n  const fetchSlots = useCallback(async () => {\n    // globalDispatch({ type: 'toggleLoading' });\n    // const list = await listSlots(user.uid, week[0], week[6]);\n    const list = mockData;\n    if (!(list instanceof Error))  {\n      const data: {[key: string]: TSlot[]} = {};\n      list.forEach((d: TSlot) => {\n        const date = d.starts_at.datetime.slice(0, 10); // TODO: è possibile che la start_at e ends_at siano su giorni diversi?\n        if (!data[date]) data[date] = [d];\n        else data[date].push(d);\n      });\n      dispatch({ type: 'loadSlots', data });\n    }\n    // globalDispatch({ type: 'toggleLoading' });\n  // }, [globalDispatch, user.uid, week]);\n  }, []);\n\n  // const onDismiss = () => dispatch({ type: 'close' });\n  const onClick = (value: string) => dispatch({ type: 'open', value });\n  const handlePreviousWeek = () => dispatch({ type: 'previousWeek' });\n  const handleNextWeek = () => dispatch({ type: 'nextWeek' });\n  const handleToday = () => dispatch({ type: 'today' });\n\n  useEffect(() => { fetchSlots(); }, [fetchSlots]);\n\n  return (\n    <div>\n      <Header>\n        <WeekSelector {...{ handlePreviousWeek, handleNextWeek, handleToday }} />\n      </Header>\n      <CalendarGrid>\n        {DAYS.map((d, i) => <DayHeader key={`day_header_${d}`} day={d} month={week[i].slice(5,7)} date={week[i].slice(8,10)} year={week[i].slice(0,4)} />)}\n      </CalendarGrid>\n      <CalendarGrid>\n        {DAYS.map(d => <Day key={`day_${d}`} day={d} onClick={onClick} />)}\n      </CalendarGrid>\n    </div>\n  )\n}\n\nconst WeekSelector = ({ handlePreviousWeek, handleNextWeek, handleToday }:\n  { handlePreviousWeek: () => void, handleNextWeek: () => void, handleToday: () => void\n}) => (\n  <WeekSelectorStyled>\n    <button onClick={handleToday}>Oggi</button>\n    <Tooltip label=\"Settimana precedente\"><Flex onClick={handlePreviousWeek}><ChevronLeft /></Flex></Tooltip>\n    <Tooltip label=\"Prossima settimana\"><Flex onClick={handleNextWeek}><ChevronRight /></Flex></Tooltip>\n  </WeekSelectorStyled>\n);\n\nconst DayHeader = ({ day, month, date, year }: { day: string, month: string, date: string, year: string }) => (\n  <DayHeaderStyled today={compareDates(date, month, year)}>\n    <span>{day}</span>\n    <span>{MONTHS[month]} {date}</span>\n  </DayHeaderStyled>\n);\n\ntype TDayCellParameters = { onClick: (slot: string) => void };\n\nconst Day = (props: TDayCellParameters & { day: string }) => {\n  const { day, ...rest } = props;\n  return (\n    <DayStyled>\n      {[...Array(3)].map((_,i) => <Cell key={`day_${day}_daycell_${i}`} {...rest} slot={'test'} />)}\n    </DayStyled>\n  );\n};\n\nconst Cell = ({ onClick, slot }: TDayCellParameters & { slot: string }) => (\n  <CellStyled onClick={() => onClick(slot)}>\n  </CellStyled>\n);\n\n\nexport default Calendar;","import styled from \"styled-components\";\nimport { Flex, Input } from \"../Lib\";\n\nexport const LoginBackground = styled(Flex)`\n  width: 100vw;\n  height: 100vh;\n  background-color: var(--main);\n`;\n\nexport const LoginContainer = styled(Flex)`\n  background-color: var(--white);\n  width: 28vw;\n  box-shadow: var(--shadow-1);\n  border-radius: 10rem;\n  flex-direction: column;\n  padding: 20rem 28rem;\n  h1 { font-size: 25rem; font-weight: 300; margin-bottom: 20rem; }\n  & > form {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n  }\n`;\n\nexport const LoginInput = styled(Input)<{ error: boolean }>`\n  border: 2rem solid var(--border-gray);\n  height: 38rem;\n  width: 100%;\n  border-radius: 7rem;\n  padding-left: 15rem;\n  margin-top: 20rem;\n  font-size: 15rem;\n  :hover, :focus {\n    border-color: var(--main-light);\n    transition: border-color 0.5s ease;\n  }\n  ${({ error }) => error && `\n    border-color: var(--error);\n    :hover, :focus {\n      border-color: var(--error);\n    }\n  `}\n`;\n\nexport const LoginError = styled.span`\n  color: var(--error);\n  font-size: 12rem;\n`;\n\nexport const LoginMainButton = styled.button`\n  border-radius: 30rem;\n  background-color: var(--main);\n  height: 48rem;\n  margin-top: 30rem;\n  width: 100%;\n  color: var(--white);\n`;","import React from 'react';\nimport { useForm } from \"react-hook-form\";\nimport { auth } from '../../firebase';\nimport { Flex } from '../Lib';\nimport { LoginBackground, LoginContainer, LoginInput, LoginError, LoginMainButton } from './styles';\n\nconst formConfig = { required: true };\nfunction Login() {\n  const { register, handleSubmit, errors } = useForm();\n  \n  // Typescript bug, la definizione corretta sarebbe { email, password }: { email: string, password: string }\n  const onSubmit = ({ email, password }: any) => {\n    auth.signInWithEmailAndPassword(email, password)\n    .catch(error => console.log('Error Signing in with email and password'));\n  }\n  return (<>\n    <LoginBackground>\n\n    <LoginContainer>\n      <Flex flexDirection=\"column\">\n        <h1>BiBooking</h1>\n      </Flex>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <LoginInput name=\"email\" ref={register(formConfig)} placeholder=\"Email\" error={errors.email} />\n        { errors.email && <LoginError>Inserisci un indirizzo email valido</LoginError>}\n        <LoginInput name=\"password\" ref={register(formConfig)} placeholder=\"Password\" error={errors.password} />\n        { errors.password && <LoginError>La password non può essere vuota</LoginError>}\n        <LoginMainButton type=\"submit\">Log in</LoginMainButton>\n      </form>\n    </LoginContainer>\n    </LoginBackground>\n  </>);\n}\n\nexport default Login;\n","import { createContext, useContext, Dispatch } from 'react';\nexport const initialState = {\n  loading: false,\n  user: null,\n};\n\ntype Action = {\n  type: 'toggleLoading' | 'setUser',\n  data?: any,\n};\n\ntype State = {\n  loading: boolean,\n  user: any\n};\n\ntype Context = {\n  state: State,\n  dispatch: Dispatch<any>\n}\n\nconst GlobalContext = createContext<Context>({ state: initialState, dispatch: () => null });\nexport const Provider = GlobalContext.Provider;\n\nexport const reducer = (state: State, action: Action) : State => {\n  switch(action.type) {\n    case 'toggleLoading': return { ...state, loading: !state.loading };\n    case 'setUser': return { ...state, user: action.data }\n    default: return state;\n  }\n}\n\nexport const useGlobalContext = (): [State, Dispatch<any>] => {\n  const { state, dispatch } = useContext(GlobalContext);\n  return [state, dispatch];\n}","import React, { useEffect, useReducer, useMemo } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport styled from 'styled-components';\nimport Calendar from './components/Calendar';\nimport { Flex } from './components/Lib';\nimport Login from './components/Login';\nimport { reducer, initialState, Provider } from './context';\nimport { auth, generateUserDocument } from './firebase';\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const { user, loading } = state;\n  const contextValue = useMemo(() => ({ state, dispatch }), [state, dispatch]);\n\n  useEffect(() => {\n    auth.onAuthStateChanged(async user => {\n      const data = await generateUserDocument(user);\n      dispatch({ type: 'setUser', data });\n    });\n  }, [])\n\n  return !user\n    ? <NonLoggedRouter />\n    : (\n      <Provider value={contextValue}>\n        { loading && <Overlay /> }\n        <LoggedRouter />      \n      </Provider>\n    );\n}\n\nconst Overlay = styled((props: any) => <Flex {...props}>Loading...</Flex>)`\n  position: absolute;\n  top: 0;\n  height: 100vh;\n  width: 100vw;\n  background-color: black;\n  opacity: 0.8;\n  z-index: 100;\n  color: var(--white);\n  /* svg { animation: fa-spin 1s infinite linear; } */\n`;\n\nconst LoggedRouter = () => (\n  <Switch>\n    <Route path=\"/\"><Calendar /></Route>\n  </Switch>\n);\n\nconst NonLoggedRouter = () => (\n  <Switch>\n    <Route path=\"/\"><Login /></Route>\n  </Switch>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport '@reach/tooltip/styles.css';\nimport \"@reach/menu-button/styles.css\";\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.register();\n"],"sourceRoot":""}
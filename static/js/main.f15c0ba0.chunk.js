(this["webpackJsonpbibooking-react"]=this["webpackJsonpbibooking-react"]||[]).push([[0],{38:function(n,e,t){n.exports=t(54)},43:function(n,e,t){},54:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(33),i=t.n(o),c=t(16),u=(t(43),t(5)),l=t(1),s=t.n(l),d=t(4),f=t(11),m=t(2),h=t(6);function g(){var n=Object(u.a)(["\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 22rem;\n  line-height: 22rem;\n"]);return g=function(){return n},n}function b(){var n=Object(u.a)(["\n  height: var(--header-height);\n  background-color: var(--main);\n  box-shadow: var(--shadow-2);\n  color: var(--white);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-weight: 300;\n  padding: 0 var(--lateral-padding);\n  position: sticky;\n  top: 0;\n"]);return b=function(){return n},n}var p=h.a.header(b()),v=Object(h.a)(c.b)(g());function w(){var n=Object(u.a)(["\n  border-bottom: 2rem solid var(--main);\n  outline: none;\n  background-color: var(--white);\n  padding: 0 3rem;\n  width: ",";\n  height: ",";\n"]);return w=function(){return n},n}function E(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: ",";\n  justify-content: ",";\n  align-items: ",";\n  width: ",";\n  height: ",";\n  padding: ",";\n"]);return E=function(){return n},n}var k=h.a.div(E(),(function(n){var e=n.flexDirection;return void 0===e?"row":e}),(function(n){var e=n.justifyContent;return void 0===e?"center":e}),(function(n){var e=n.alignItems;return void 0===e?"center":e}),(function(n){var e=n.width;return e||"auto"}),(function(n){var e=n.height;return e||"auto"}),(function(n){var e=n.padding;return e||"0"})),j=h.a.input(w(),(function(n){var e=n.width;return e||"auto"}),(function(n){var e=n.height;return e||"auto"})),O=t(12),y=t(22),x=t.n(y);t(49),t(51);x.a.initializeApp({apiKey:"AIzaSyC4vRrAFqZm8r1plYtPLYJZm2IY2AR9d9w",authDomain:"bibooking.firebaseapp.com",databaseURL:"https://bibooking.firebaseio.com",projectId:"bibooking",storageBucket:"bibooking.appspot.com",messagingSenderId:"48933584913",appId:"1:48933584913:web:bfbd2076ad4118821a31b0"});var S=function(){var n=Object(d.a)(s.a.mark((function n(e,t){var r,a,o;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:return r=C.doc("users/".concat(e.uid)),n.next=5,r.get();case 5:if(n.sent.exists){n.next=16;break}return a=e.email,o=e.displayName,n.prev=8,n.next=11,r.set(Object(O.a)({displayName:o,email:a},t));case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(8),console.error("Error creating user document",n.t0);case 16:return n.abrupt("return",A(e.uid));case 17:case"end":return n.stop()}}),n,null,[[8,13]])})));return function(e,t){return n.apply(this,arguments)}}(),A=function(){var n=Object(d.a)(s.a.mark((function n(e){var t;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return",null);case 2:return n.prev=2,n.next=5,C.doc("users/".concat(e)).get();case 5:return t=n.sent,n.abrupt("return",Object(O.a)({uid:e},t.data()));case 9:n.prev=9,n.t0=n.catch(2),console.error("Error fetching user",n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}(),z=x.a.auth(),C=x.a.firestore(),W=Object(r.memo)((function(){return a.a.createElement(p,null,a.a.createElement(v,{to:"/"},a.a.createElement("h1",null,"BiBooking")),a.a.createElement(k,null,a.a.createElement(k,null,a.a.createElement("button",{onClick:function(){return z.signOut()}},"Sign out"))))}));var I=function(){return a.a.createElement("div",null,a.a.createElement(W,null),"Calendar")},B=t(37);function L(){var n=Object(u.a)(["\n  border-radius: 30rem;\n  background-color: var(--main);\n  height: 48rem;\n  margin-top: 30rem;\n  width: 100%;\n  color: var(--white);\n"]);return L=function(){return n},n}function R(){var n=Object(u.a)(["\n  border: 2rem solid var(--border-gray);\n  height: 38rem;\n  width: 100%;\n  border-radius: 7rem;\n  padding-left: 15rem;\n  margin-top: 20rem;\n  font-size: 15rem;\n  :hover, :focus {\n    border-color: var(--main-light);\n    transition: border-color 0.5s ease;\n  }\n"]);return R=function(){return n},n}function P(){var n=Object(u.a)(["\n  background-color: var(--white);\n  width: 28vw;\n  position: absolute;\n  left: calc(50% - 12.5vw);\n  top: 50%;\n  transform: translateY(-50%);\n  box-shadow: var(--shadow-1);\n  border-radius: 10rem;\n  flex-direction: column;\n  padding: 20rem 28rem;\n  & > div:first-child {\n    margin-bottom: 20rem;\n    span { font-size: 55rem; }\n    h1 { font-size: 25rem; font-weight: 300; }\n  }\n  & > a {\n    font-size: 14rem;\n    margin-top: 20rem;\n  }\n  & > form {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    a {\n      font-size: 12rem;\n      margin-left: auto;\n      margin-top: 4rem;\n    }\n  }\n"]);return P=function(){return n},n}function U(){var n=Object(u.a)(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  right: 0;\n  background-color: var(--main);\n"]);return U=function(){return n},n}var N=h.a.div(U()),Y=Object(h.a)(k)(P()),q=Object(h.a)(j)(R()),D=h.a.button(L());var J=function(){var n=Object(B.a)(),e=n.register,t=n.handleSubmit;return a.a.createElement(a.a.Fragment,null,a.a.createElement(N,null),a.a.createElement(Y,null,a.a.createElement(k,{flexDirection:"column"},a.a.createElement("h1",null,"BiBooking")),a.a.createElement("form",{onSubmit:t((function(n){var e=n.email,t=n.password;z.signInWithEmailAndPassword(e,t).catch((function(n){return console.log("Error Signing in with email and password")}))}))},a.a.createElement(q,{name:"email",ref:e({required:!0}),placeholder:"Email"}),a.a.createElement(q,{name:"password",ref:e({required:!0}),placeholder:"Password"}),a.a.createElement(D,{type:"submit"},"Log in"))))},F={loading:!1,user:null},M=Object(r.createContext)({state:F,dispatch:function(){return null}}),T=M.Provider,Z=function(n,e){switch(e.type){case"toggleLoading":return Object(O.a)(Object(O.a)({},n),{},{loading:!n.loading});case"setUser":return Object(O.a)(Object(O.a)({},n),{},{user:e.data});default:return n}};function K(){var n=Object(u.a)(["\n  position: absolute;\n  top: 0;\n  height: 100vh;\n  width: 100vw;\n  background-color: black;\n  opacity: 0.8;\n  z-index: 100;\n  color: var(--white);\n  /* svg { animation: fa-spin 1s infinite linear; } */\n"]);return K=function(){return n},n}var $=Object(h.a)((function(n){return a.a.createElement(k,n,"Loading...")}))(K()),G=function(){return a.a.createElement(m.c,null,a.a.createElement(m.a,{path:"/"},a.a.createElement(I,null)))},H=function(){return a.a.createElement(m.c,null,a.a.createElement(m.a,{path:"/"},a.a.createElement(J,null)))},Q=function(){var n=Object(r.useReducer)(Z,F),e=Object(f.a)(n,2),t=e[0],o=e[1],i=t.user,c=t.loading,u=Object(r.useMemo)((function(){return{state:t,dispatch:o}}),[t,o]);return Object(r.useEffect)((function(){z.onAuthStateChanged(function(){var n=Object(d.a)(s.a.mark((function n(e){var t;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S(e);case 2:t=n.sent,o({type:"setUser",data:t});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}),[]),i?a.a.createElement(T,{value:u},c&&a.a.createElement($,null),a.a.createElement(G,null)):a.a.createElement(H,null)},V=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function X(n,e){navigator.serviceWorker.register(n).then((function(n){n.onupdatefound=function(){var t=n.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(n)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(n)))})}})).catch((function(n){console.error("Error during service worker registration:",n)}))}i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(c.a,null,a.a.createElement(Q,null))),document.getElementById("root")),function(n){if("serviceWorker"in navigator){if(new URL("/bibooking-react-pages",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/bibooking-react-pages","/service-worker.js");V?(!function(n,e){fetch(n,{headers:{"Service-Worker":"script"}}).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(n){n.unregister().then((function(){window.location.reload()}))})):X(n,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,n),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):X(e,n)}))}}()}},[[38,1,2]]]);
//# sourceMappingURL=main.f15c0ba0.chunk.js.map